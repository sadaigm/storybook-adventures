import{c as fr}from"./classnames-cee3b7bb.js";import{r as c}from"./react-f5969a0a.js";import{c as Qr,u as te,d as st,a as ut,r as Tn,s as On,e as pn,f as ft,h as ct,i as lt,j as er,k as Mn,l as dt,g as Pn,m as vt,n as ht}from"./rc-util-8c081dda.js";import{h as Yn,i as Xn,a as En,_ as Dn,k as Nn,e as D,d as Fe,c as $,f as Te,b as Be,j as An,l as gt,g as et}from"./@babel-da92e102.js";import{F as rt}from"./@ant-design-05c1801f.js";import{r as mt}from"./react-dom-50ca325a.js";import{R as nt}from"./rc-resize-observer-efc86fdc.js";import{C as tt}from"./rc-motion-ec2b1346.js";var yt=["b"],wt=["v"],bn=function(e){return Math.round(Number(e||0))},bt=function(e){if(e instanceof rt)return e;if(e&&Fe(e)==="object"&&"h"in e&&"b"in e){var r=e,t=r.b,a=Nn(r,yt);return D(D({},a),{},{v:t})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Ln=function(n){Yn(r,n);var e=Xn(r);function r(t){return En(this,r),e.call(this,bt(t))}return Dn(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),o=bn(a.s*100),i=bn(a.b*100),s=bn(a.h),d=a.a,M="hsb(".concat(s,", ").concat(o,"%, ").concat(i,"%)"),m="hsba(".concat(s,", ").concat(o,"%, ").concat(i,"%, ").concat(d.toFixed(d===0?0:2),")");return d===1?M:m}},{key:"toHsb",value:function(){var a=this.toHsv(),o=a.v,i=Nn(a,wt);return D(D({},i),{},{b:o,a:this.a})}}]),r}(rt),Ct=function(e){return e instanceof Ln?e:new Ln(e)};Ct("#1677ff");var at=c.createContext(null),kn=[];function Mt(n,e){var r=c.useState(function(){if(!Qr())return null;var f=document.createElement("div");return f}),t=$(r,1),a=t[0],o=c.useRef(!1),i=c.useContext(at),s=c.useState(kn),d=$(s,2),M=d[0],m=d[1],g=i||(o.current?void 0:function(f){m(function(w){var u=[f].concat(Te(w));return u})});function C(){a.parentElement||document.body.appendChild(a),o.current=!0}function v(){var f;(f=a.parentElement)===null||f===void 0||f.removeChild(a),o.current=!1}return te(function(){return n?i?i(C):C():v(),v},[n]),te(function(){M.length&&(M.forEach(function(f){return f()}),m(kn))},[M]),[a,g]}function Pt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var St="rc-util-locker-".concat(Date.now()),$n=0;function qt(n){var e=!!n,r=c.useState(function(){return $n+=1,"".concat(St,"_").concat($n)}),t=$(r,1),a=t[0];te(function(){if(e){var o=st(document.body).width,i=Pt();ut(`
html body {
  overflow-y: hidden;
  `.concat(i?"width: calc(100% - ".concat(o,"px);"):"",`
}`),a)}else Tn(a);return function(){Tn(a)}},[e,a])}var Hn=!1;function xt(n){return typeof n=="boolean"&&(Hn=n),Hn}var jn=function(e){return e===!1?!1:!Qr()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},it=c.forwardRef(function(n,e){var r=n.open,t=n.autoLock,a=n.getContainer;n.debug;var o=n.autoDestroy,i=o===void 0?!0:o,s=n.children,d=c.useState(r),M=$(d,2),m=M[0],g=M[1],C=m||r;c.useEffect(function(){(i||r)&&g(r)},[r,i]);var v=c.useState(function(){return jn(a)}),f=$(v,2),w=f[0],u=f[1];c.useEffect(function(){var p=jn(a);u(p??null)});var S=Mt(C&&!w),b=$(S,2),P=b[0],F=b[1],x=w??P;qt(t&&r&&Qr()&&(x===P||x===document.body));var h=null;if(s&&On(s)&&e){var L=s;h=L.ref}var _=pn(h,e);if(!C||!Qr()||w===void 0)return null;var j=x===!1||xt(),U=s;return e&&(U=c.cloneElement(s,{ref:_})),c.createElement(at.Provider,{value:F},j?U:mt.createPortal(U,x))});function Sn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qn=Sn(),Ft=/%[sdj%]/g,Et=function(){};typeof process<"u"&&process.env;function xn(n){if(!n||!n.length)return null;var e={};return n.forEach(function(r){var t=r.field;e[t]=e[t]||[],e[t].push(r)}),e}function ae(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var a=0,o=r.length;if(typeof n=="function")return n.apply(null,r);if(typeof n=="string"){var i=n.replace(Ft,function(s){if(s==="%%")return"%";if(a>=o)return s;switch(s){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return s}});return i}return n}function Dt(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function B(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Dt(e)&&typeof n=="string"&&!n)}function Nt(n,e,r){var t=[],a=0,o=n.length;function i(s){t.push.apply(t,Te(s||[])),a++,a===o&&r(t)}n.forEach(function(s){e(s,i)})}function Wn(n,e,r){var t=0,a=n.length;function o(i){if(i&&i.length){r(i);return}var s=t;t=t+1,s<a?e(n[s],o):r([])}o([])}function Rt(n){var e=[];return Object.keys(n).forEach(function(r){e.push.apply(e,Te(n[r]||[]))}),e}var zn=function(n){Yn(r,n);var e=Xn(r);function r(t,a){var o;return En(this,r),o=e.call(this,"Async Validation Error"),Be(An(o),"errors",void 0),Be(An(o),"fields",void 0),o.errors=t,o.fields=a,o}return Dn(r)}(gt(Error));function Tt(n,e,r,t,a){if(e.first){var o=new Promise(function(C,v){var f=function(S){return t(S),S.length?v(new zn(S,xn(S))):C(a)},w=Rt(n);Wn(w,r,f)});return o.catch(function(C){return C}),o}var i=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),d=s.length,M=0,m=[],g=new Promise(function(C,v){var f=function(u){if(m.push.apply(m,u),M++,M===d)return t(m),m.length?v(new zn(m,xn(m))):C(a)};s.length||(t(m),C(a)),s.forEach(function(w){var u=n[w];i.indexOf(w)!==-1?Wn(u,r,f):Nt(u,r,f)})});return g.catch(function(C){return C}),g}function At(n){return!!(n&&n.message!==void 0)}function Lt(n,e){for(var r=n,t=0;t<e.length;t++){if(r==null)return r;r=r[e[t]]}return r}function Vn(n,e){return function(r){var t;return n.fullFields?t=Lt(e,n.fullFields):t=e[r.field||n.fullField],At(r)?(r.field=r.field||n.fullField,r.fieldValue=t,r):{message:typeof r=="function"?r():r,fieldValue:t,field:r.field||n.fullField}}}function Bn(n,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var t=e[r];Fe(t)==="object"&&Fe(n[r])==="object"?n[r]=D(D({},n[r]),t):n[r]=t}}return n}var sr="enum",kt=function(e,r,t,a,o){e[sr]=Array.isArray(e[sr])?e[sr]:[],e[sr].indexOf(r)===-1&&a.push(ae(o.messages[sr],e.fullField,e[sr].join(", ")))},$t=function(e,r,t,a,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ae(o.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var i=new RegExp(e.pattern);i.test(r)||a.push(ae(o.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Ht=function(e,r,t,a,o){var i=typeof e.len=="number",s=typeof e.min=="number",d=typeof e.max=="number",M=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,g=null,C=typeof r=="number",v=typeof r=="string",f=Array.isArray(r);if(C?g="number":v?g="string":f&&(g="array"),!g)return!1;f&&(m=r.length),v&&(m=r.replace(M,"_").length),i?m!==e.len&&a.push(ae(o.messages[g].len,e.fullField,e.len)):s&&!d&&m<e.min?a.push(ae(o.messages[g].min,e.fullField,e.min)):d&&!s&&m>e.max?a.push(ae(o.messages[g].max,e.fullField,e.max)):s&&d&&(m<e.min||m>e.max)&&a.push(ae(o.messages[g].range,e.fullField,e.min,e.max))},ot=function(e,r,t,a,o,i){e.required&&(!t.hasOwnProperty(e.field)||B(r,i||e.type))&&a.push(ae(o.messages.required,e.fullField))},Jr;const jt=function(){if(Jr)return Jr;var n="[a-fA-F\\d:]",e=function(h){return h&&h.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",t="[a-fA-F\\d]{1,4}",a=["(?:".concat(t,":){7}(?:").concat(t,"|:)"),"(?:".concat(t,":){6}(?:").concat(r,"|:").concat(t,"|:)"),"(?:".concat(t,":){5}(?::").concat(r,"|(?::").concat(t,"){1,2}|:)"),"(?:".concat(t,":){4}(?:(?::").concat(t,"){0,1}:").concat(r,"|(?::").concat(t,"){1,3}|:)"),"(?:".concat(t,":){3}(?:(?::").concat(t,"){0,2}:").concat(r,"|(?::").concat(t,"){1,4}|:)"),"(?:".concat(t,":){2}(?:(?::").concat(t,"){0,3}:").concat(r,"|(?::").concat(t,"){1,5}|:)"),"(?:".concat(t,":){1}(?:(?::").concat(t,"){0,4}:").concat(r,"|(?::").concat(t,"){1,6}|:)"),"(?::(?:(?::".concat(t,"){0,5}:").concat(r,"|(?::").concat(t,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",i="(?:".concat(a.join("|"),")").concat(o),s=new RegExp("(?:^".concat(r,"$)|(?:^").concat(i,"$)")),d=new RegExp("^".concat(r,"$")),M=new RegExp("^".concat(i,"$")),m=function(h){return h&&h.exact?s:new RegExp("(?:".concat(e(h)).concat(r).concat(e(h),")|(?:").concat(e(h)).concat(i).concat(e(h),")"),"g")};m.v4=function(x){return x&&x.exact?d:new RegExp("".concat(e(x)).concat(r).concat(e(x)),"g")},m.v6=function(x){return x&&x.exact?M:new RegExp("".concat(e(x)).concat(i).concat(e(x)),"g")};var g="(?:(?:[a-z]+:)?//)",C="(?:\\S+(?::\\S*)?@)?",v=m.v4().source,f=m.v6().source,w="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",u="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",S="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",P='(?:[/?#][^\\s"]*)?',F="(?:".concat(g,"|www\\.)").concat(C,"(?:localhost|").concat(v,"|").concat(f,"|").concat(w).concat(u).concat(S,")").concat(b).concat(P);return Jr=new RegExp("(?:^".concat(F,"$)"),"i"),Jr};var _n={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Mr={integer:function(e){return Mr.number(e)&&parseInt(e,10)===e},float:function(e){return Mr.number(e)&&!Mr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Fe(e)==="object"&&!Mr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(_n.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(jt())},hex:function(e){return typeof e=="string"&&!!e.match(_n.hex)}},Wt=function(e,r,t,a,o){if(e.required&&r===void 0){ot(e,r,t,a,o);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;i.indexOf(s)>-1?Mr[s](r)||a.push(ae(o.messages.types[s],e.fullField,e.type)):s&&Fe(r)!==e.type&&a.push(ae(o.messages.types[s],e.fullField,e.type))},zt=function(e,r,t,a,o){(/^\s+$/.test(r)||r==="")&&a.push(ae(o.messages.whitespace,e.fullField))};const q={required:ot,whitespace:zt,type:Wt,range:Ht,enum:kt,pattern:$t};var Vt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o)}t(i)},Bt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r==null&&!e.required)return t();q.required(e,r,a,i,o,"array"),r!=null&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},_t=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q.type(e,r,a,i,o)}t(i)},Ut=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"date")&&!e.required)return t();if(q.required(e,r,a,i,o),!B(r,"date")){var d;r instanceof Date?d=r:d=new Date(r),q.type(e,d,a,i,o),d&&q.range(e,d.getTime(),a,i,o)}}t(i)},It="enum",Jt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q[It](e,r,a,i,o)}t(i)},Qt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},Zt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},Gt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q.type(e,r,a,i,o)}t(i)},Kt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(r===""&&(r=void 0),B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&(q.type(e,r,a,i,o),q.range(e,r,a,i,o))}t(i)},Ot=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),r!==void 0&&q.type(e,r,a,i,o)}t(i)},pt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"string")&&!e.required)return t();q.required(e,r,a,i,o),B(r,"string")||q.pattern(e,r,a,i,o)}t(i)},Yt=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r)&&!e.required)return t();q.required(e,r,a,i,o),B(r)||q.type(e,r,a,i,o)}t(i)},Xt=function(e,r,t,a,o){var i=[],s=Array.isArray(r)?"array":Fe(r);q.required(e,r,a,i,o,s),t(i)},ea=function(e,r,t,a,o){var i=[],s=e.required||!e.required&&a.hasOwnProperty(e.field);if(s){if(B(r,"string")&&!e.required)return t();q.required(e,r,a,i,o,"string"),B(r,"string")||(q.type(e,r,a,i,o),q.range(e,r,a,i,o),q.pattern(e,r,a,i,o),e.whitespace===!0&&q.whitespace(e,r,a,i,o))}t(i)},Cn=function(e,r,t,a,o){var i=e.type,s=[],d=e.required||!e.required&&a.hasOwnProperty(e.field);if(d){if(B(r,i)&&!e.required)return t();q.required(e,r,a,s,o,i),B(r,i)||q.type(e,r,a,s,o)}t(s)};const Pr={string:ea,method:Gt,number:Kt,boolean:_t,regexp:Yt,integer:Zt,float:Qt,array:Bt,object:Ot,enum:Jt,pattern:pt,date:Ut,url:Cn,hex:Cn,email:Cn,required:Xt,any:Vt};var Zr=function(){function n(e){En(this,n),Be(this,"rules",null),Be(this,"_messages",qn),this.define(e)}return Dn(n,[{key:"define",value:function(r){var t=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(Fe(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var o=r[a];t.rules[a]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(r){return r&&(this._messages=Bn(Sn(),r)),this._messages}},{key:"validate",value:function(r){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=r,s=a,d=o;if(typeof s=="function"&&(d=s,s={}),!this.rules||Object.keys(this.rules).length===0)return d&&d(null,i),Promise.resolve(i);function M(f){var w=[],u={};function S(P){if(Array.isArray(P)){var F;w=(F=w).concat.apply(F,Te(P))}else w.push(P)}for(var b=0;b<f.length;b++)S(f[b]);w.length?(u=xn(w),d(w,u)):d(null,i)}if(s.messages){var m=this.messages();m===qn&&(m=Sn()),Bn(m,s.messages),s.messages=m}else s.messages=this.messages();var g={},C=s.keys||Object.keys(this.rules);C.forEach(function(f){var w=t.rules[f],u=i[f];w.forEach(function(S){var b=S;typeof b.transform=="function"&&(i===r&&(i=D({},i)),u=i[f]=b.transform(u),u!=null&&(b.type=b.type||(Array.isArray(u)?"array":Fe(u)))),typeof b=="function"?b={validator:b}:b=D({},b),b.validator=t.getValidationMethod(b),b.validator&&(b.field=f,b.fullField=b.fullField||f,b.type=t.getType(b),g[f]=g[f]||[],g[f].push({rule:b,value:u,source:i,field:f}))})});var v={};return Tt(g,s,function(f,w){var u=f.rule,S=(u.type==="object"||u.type==="array")&&(Fe(u.fields)==="object"||Fe(u.defaultField)==="object");S=S&&(u.required||!u.required&&f.value),u.field=f.field;function b(L,_){return D(D({},_),{},{fullField:"".concat(u.fullField,".").concat(L),fullFields:u.fullFields?[].concat(Te(u.fullFields),[L]):[L]})}function P(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=Array.isArray(L)?L:[L];!s.suppressWarning&&_.length&&n.warning("async-validator:",_),_.length&&u.message!==void 0&&(_=[].concat(u.message));var j=_.map(Vn(u,i));if(s.first&&j.length)return v[u.field]=1,w(j);if(!S)w(j);else{if(u.required&&!f.value)return u.message!==void 0?j=[].concat(u.message).map(Vn(u,i)):s.error&&(j=[s.error(u,ae(s.messages.required,u.field))]),w(j);var U={};u.defaultField&&Object.keys(f.value).map(function(z){U[z]=u.defaultField}),U=D(D({},U),f.rule.fields);var p={};Object.keys(U).forEach(function(z){var W=U[z],de=Array.isArray(W)?W:[W];p[z]=de.map(b.bind(null,z))});var ie=new n(p);ie.messages(s.messages),f.rule.options&&(f.rule.options.messages=s.messages,f.rule.options.error=s.error),ie.validate(f.value,f.rule.options||s,function(z){var W=[];j&&j.length&&W.push.apply(W,Te(j)),z&&z.length&&W.push.apply(W,Te(z)),w(W.length?W:null)})}}var F;if(u.asyncValidator)F=u.asyncValidator(u,f.value,P,f.source,s);else if(u.validator){try{F=u.validator(u,f.value,P,f.source,s)}catch(L){var x,h;(x=(h=console).error)===null||x===void 0||x.call(h,L),s.suppressValidatorError||setTimeout(function(){throw L},0),P(L.message)}F===!0?P():F===!1?P(typeof u.message=="function"?u.message(u.fullField||u.field):u.message||"".concat(u.fullField||u.field," fails")):F instanceof Array?P(F):F instanceof Error&&P(F.message)}F&&F.then&&F.then(function(){return P()},function(L){return P(L)})},function(f){M(f)},i)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Pr.hasOwnProperty(r.type))throw new Error(ae("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var t=Object.keys(r),a=t.indexOf("message");return a!==-1&&t.splice(a,1),t.length===1&&t[0]==="required"?Pr.required:Pr[this.getType(r)]||void 0}}]),n}();Be(Zr,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Pr[e]=r});Be(Zr,"warning",Et);Be(Zr,"messages",qn);Be(Zr,"validators",Pr);function ra(n){var e=n.prefixCls,r=n.align,t=n.arrow,a=n.arrowPos,o=t||{},i=o.className,s=o.content,d=a.x,M=d===void 0?0:d,m=a.y,g=m===void 0?0:m,C=c.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var f=r.points[0],w=r.points[1],u=f[0],S=f[1],b=w[0],P=w[1];u===b||!["t","b"].includes(u)?v.top=g:u==="t"?v.top=0:v.bottom=0,S===P||!["l","r"].includes(S)?v.left=M:S==="l"?v.left=0:v.right=0}return c.createElement("div",{ref:C,className:fr("".concat(e,"-arrow"),i),style:v},s)}function na(n){var e=n.prefixCls,r=n.open,t=n.zIndex,a=n.mask,o=n.motion;return a?c.createElement(tt,et({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(i){var s=i.className;return c.createElement("div",{style:{zIndex:t},className:fr("".concat(e,"-mask"),s)})}):null}var ta=c.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),aa=c.forwardRef(function(n,e){var r=n.popup,t=n.className,a=n.prefixCls,o=n.style,i=n.target,s=n.onVisibleChanged,d=n.open,M=n.keepDom,m=n.fresh,g=n.onClick,C=n.mask,v=n.arrow,f=n.arrowPos,w=n.align,u=n.motion,S=n.maskMotion,b=n.forceRender,P=n.getPopupContainer,F=n.autoDestroy,x=n.portal,h=n.zIndex,L=n.onMouseEnter,_=n.onMouseLeave,j=n.onPointerEnter,U=n.onPointerDownCapture,p=n.ready,ie=n.offsetX,z=n.offsetY,W=n.offsetR,de=n.offsetB,X=n.onAlign,Ee=n.onPrepare,J=n.stretch,Z=n.targetWidth,E=n.targetHeight,_e=typeof r=="function"?r():r,ve=d||M,Q=(P==null?void 0:P.length)>0,N=c.useState(!P||!Q),ee=$(N,2),Ue=ee[0],cr=ee[1];if(te(function(){!Ue&&Q&&i&&cr(!0)},[Ue,Q,i]),!Ue)return null;var be="auto",re={left:"-1000vw",top:"-1000vh",right:be,bottom:be};if(p||!d){var Ae,Ie=w.points,oe=w.dynamicInset||((Ae=w._experimental)===null||Ae===void 0?void 0:Ae.dynamicInset),Ce=oe&&Ie[0][1]==="r",he=oe&&Ie[0][0]==="b";Ce?(re.right=W,re.left=be):(re.left=ie,re.right=be),he?(re.bottom=de,re.top=be):(re.top=z,re.bottom=be)}var Y={};return J&&(J.includes("height")&&E?Y.height=E:J.includes("minHeight")&&E&&(Y.minHeight=E),J.includes("width")&&Z?Y.width=Z:J.includes("minWidth")&&Z&&(Y.minWidth=Z)),d||(Y.pointerEvents="none"),c.createElement(x,{open:b||ve,getContainer:P&&function(){return P(i)},autoDestroy:F},c.createElement(na,{prefixCls:a,open:d,zIndex:h,mask:C,motion:S}),c.createElement(nt,{onResize:X,disabled:!d},function(lr){return c.createElement(tt,et({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(a,"-hidden")},u,{onAppearPrepare:Ee,onEnterPrepare:Ee,visible:d,onVisibleChanged:function(se){var Me;u==null||(Me=u.onVisibleChanged)===null||Me===void 0||Me.call(u,se),s(se)}}),function(Le,se){var Me=Le.className,Je=Le.style,G=fr(a,Me,t);return c.createElement("div",{ref:ft(lr,e,se),className:G,style:D(D(D(D({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},re),Y),Je),{},{boxSizing:"border-box",zIndex:h},o),onMouseEnter:L,onMouseLeave:_,onPointerEnter:j,onClick:g,onPointerDownCapture:U},v&&c.createElement(ra,{prefixCls:a,arrow:v,arrowPos:f,align:w}),c.createElement(ta,{cache:!d&&!m},_e))})}))}),ia=c.forwardRef(function(n,e){var r=n.children,t=n.getTriggerDOMNode,a=On(r),o=c.useCallback(function(s){ct(e,t?t(s):s)},[t]),i=pn(o,lt(r));return a?c.cloneElement(r,{ref:i}):r}),Un=c.createContext(null);function In(n){return n?Array.isArray(n)?n:[n]:[]}function oa(n,e,r,t){return c.useMemo(function(){var a=In(r??e),o=In(t??e),i=new Set(a),s=new Set(o);return n&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]},[n,e,r,t])}function sa(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function ua(n,e,r,t){for(var a=r.points,o=Object.keys(n),i=0;i<o.length;i+=1){var s,d=o[i];if(sa((s=n[d])===null||s===void 0?void 0:s.points,a,t))return"".concat(e,"-placement-").concat(d)}return""}function Jn(n,e,r,t){return e||(r?{motionName:"".concat(n,"-").concat(r)}:t?{motionName:t}:null)}function qr(n){return n.ownerDocument.defaultView}function Fn(n){for(var e=[],r=n==null?void 0:n.parentElement,t=["hidden","scroll","clip","auto"];r;){var a=qr(r).getComputedStyle(r),o=a.overflowX,i=a.overflowY,s=a.overflow;[o,i,s].some(function(d){return t.includes(d)})&&e.push(r),r=r.parentElement}return e}function Sr(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function Cr(n){return Sr(parseFloat(n),0)}function Qn(n,e){var r=D({},n);return(e||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var a=qr(t).getComputedStyle(t),o=a.overflow,i=a.overflowClipMargin,s=a.borderTopWidth,d=a.borderBottomWidth,M=a.borderLeftWidth,m=a.borderRightWidth,g=t.getBoundingClientRect(),C=t.offsetHeight,v=t.clientHeight,f=t.offsetWidth,w=t.clientWidth,u=Cr(s),S=Cr(d),b=Cr(M),P=Cr(m),F=Sr(Math.round(g.width/f*1e3)/1e3),x=Sr(Math.round(g.height/C*1e3)/1e3),h=(f-w-b-P)*F,L=(C-v-u-S)*x,_=u*x,j=S*x,U=b*F,p=P*F,ie=0,z=0;if(o==="clip"){var W=Cr(i);ie=W*F,z=W*x}var de=g.x+U-ie,X=g.y+_-z,Ee=de+g.width+2*ie-U-p-h,J=X+g.height+2*z-_-j-L;r.left=Math.max(r.left,de),r.top=Math.max(r.top,X),r.right=Math.min(r.right,Ee),r.bottom=Math.min(r.bottom,J)}}),r}function Zn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),t=r.match(/^(.*)\%$/);return t?n*(parseFloat(t[1])/100):parseFloat(r)}function Gn(n,e){var r=e||[],t=$(r,2),a=t[0],o=t[1];return[Zn(n.width,a),Zn(n.height,o)]}function Kn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function ur(n,e){var r=e[0],t=e[1],a,o;return r==="t"?o=n.y:r==="b"?o=n.y+n.height:o=n.y+n.height/2,t==="l"?a=n.x:t==="r"?a=n.x+n.width:a=n.x+n.width/2,{x:a,y:o}}function Ve(n,e){var r={t:"b",b:"t",l:"r",r:"l"};return n.map(function(t,a){return a===e?r[t]||"c":t}).join("")}function fa(n,e,r,t,a,o,i){var s=c.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[t]||{}}),d=$(s,2),M=d[0],m=d[1],g=c.useRef(0),C=c.useMemo(function(){return e?Fn(e):[]},[e]),v=c.useRef({}),f=function(){v.current={}};n||f();var w=er(function(){if(e&&r&&n){let le=function(or,We){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xr,br=N.x+or,_r=N.y+We,gn=br+Ce,mn=_r+oe,yn=Math.max(br,ze.left),l=Math.max(_r,ze.top),y=Math.min(gn,ze.right),k=Math.min(mn,ze.bottom);return Math.max(0,(y-yn)*(k-l))},Br=function(){Ke=N.y+A,Oe=Ke+oe,Ne=N.x+R,nr=Ne+Ce};var b,P,F,x,h=e,L=h.ownerDocument,_=qr(h),j=_.getComputedStyle(h),U=j.width,p=j.height,ie=j.position,z=h.style.left,W=h.style.top,de=h.style.right,X=h.style.bottom,Ee=h.style.overflow,J=D(D({},a[t]),o),Z=L.createElement("div");(b=h.parentElement)===null||b===void 0||b.appendChild(Z),Z.style.left="".concat(h.offsetLeft,"px"),Z.style.top="".concat(h.offsetTop,"px"),Z.style.position=ie,Z.style.height="".concat(h.offsetHeight,"px"),Z.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden";var E;if(Array.isArray(r))E={x:r[0],y:r[1],width:0,height:0};else{var _e,ve,Q=r.getBoundingClientRect();Q.x=(_e=Q.x)!==null&&_e!==void 0?_e:Q.left,Q.y=(ve=Q.y)!==null&&ve!==void 0?ve:Q.top,E={x:Q.x,y:Q.y,width:Q.width,height:Q.height}}var N=h.getBoundingClientRect();N.x=(P=N.x)!==null&&P!==void 0?P:N.left,N.y=(F=N.y)!==null&&F!==void 0?F:N.top;var ee=L.documentElement,Ue=ee.clientWidth,cr=ee.clientHeight,be=ee.scrollWidth,re=ee.scrollHeight,Ae=ee.scrollTop,Ie=ee.scrollLeft,oe=N.height,Ce=N.width,he=E.height,Y=E.width,lr={left:0,top:0,right:Ue,bottom:cr},Le={left:-Ie,top:-Ae,right:be-Ie,bottom:re-Ae},se=J.htmlRegion,Me="visible",Je="visibleFirst";se!=="scroll"&&se!==Je&&(se=Me);var G=se===Je,Gr=Qn(Le,C),T=Qn(lr,C),xr=se===Me?T:Gr,Qe=G?T:xr;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var K=h.getBoundingClientRect();h.style.left=z,h.style.top=W,h.style.right=de,h.style.bottom=X,h.style.overflow=Ee,(x=h.parentElement)===null||x===void 0||x.removeChild(Z);var ke=Sr(Math.round(Ce/parseFloat(U)*1e3)/1e3),De=Sr(Math.round(oe/parseFloat(p)*1e3)/1e3);if(ke===0||De===0||Mn(r)&&!dt(r))return;var Kr=J.offset,Or=J.targetOffset,Fr=Gn(N,Kr),ge=$(Fr,2),me=ge[0],ue=ge[1],pr=Gn(E,Or),Ze=$(pr,2),fe=Ze[0],$e=Ze[1];E.x-=fe,E.y-=$e;var Yr=J.points||[],Er=$(Yr,2),Xr=Er[0],en=Er[1],Pe=Kn(en),ne=Kn(Xr),dr=ur(E,Pe),O=ur(N,ne),He=D({},J),R=dr.x-O.x+me,A=dr.y-O.y+ue,ye=le(R,A),Ge=le(R,A,T),vr=ur(E,["t","l"]),ce=ur(N,["t","l"]),Dr=ur(E,["b","r"]),hr=ur(N,["b","r"]),je=J.overflow||{},Nr=je.adjustX,rn=je.adjustY,gr=je.shiftX,rr=je.shiftY,mr=function(We){return typeof We=="boolean"?We:We>=0},Ke,Oe,Ne,nr;Br();var pe=mr(rn),Rr=ne[0]===Pe[0];if(pe&&ne[0]==="t"&&(Oe>Qe.bottom||v.current.bt)){var I=A;Rr?I-=oe-he:I=vr.y-hr.y-ue;var Tr=le(R,I),nn=le(R,I,T);Tr>ye||Tr===ye&&(!G||nn>=Ge)?(v.current.bt=!0,A=I,ue=-ue,He.points=[Ve(ne,0),Ve(Pe,0)]):v.current.bt=!1}if(pe&&ne[0]==="b"&&(Ke<Qe.top||v.current.tb)){var Ye=A;Rr?Ye+=oe-he:Ye=Dr.y-ce.y-ue;var Ar=le(R,Ye),tn=le(R,Ye,T);Ar>ye||Ar===ye&&(!G||tn>=Ge)?(v.current.tb=!0,A=Ye,ue=-ue,He.points=[Ve(ne,0),Ve(Pe,0)]):v.current.tb=!1}var Lr=mr(Nr),kr=ne[1]===Pe[1];if(Lr&&ne[1]==="l"&&(nr>Qe.right||v.current.rl)){var Xe=R;kr?Xe-=Ce-Y:Xe=vr.x-hr.x-me;var $r=le(Xe,A),tr=le(Xe,A,T);$r>ye||$r===ye&&(!G||tr>=Ge)?(v.current.rl=!0,R=Xe,me=-me,He.points=[Ve(ne,1),Ve(Pe,1)]):v.current.rl=!1}if(Lr&&ne[1]==="r"&&(Ne<Qe.left||v.current.lr)){var Re=R;kr?Re+=Ce-Y:Re=Dr.x-ce.x-me;var Hr=le(Re,A),jr=le(Re,A,T);Hr>ye||Hr===ye&&(!G||jr>=Ge)?(v.current.lr=!0,R=Re,me=-me,He.points=[Ve(ne,1),Ve(Pe,1)]):v.current.lr=!1}Br();var Se=gr===!0?0:gr;typeof Se=="number"&&(Ne<T.left&&(R-=Ne-T.left-me,E.x+Y<T.left+Se&&(R+=E.x-T.left+Y-Se)),nr>T.right&&(R-=nr-T.right-me,E.x>T.right-Se&&(R+=E.x-T.right+Se)));var we=rr===!0?0:rr;typeof we=="number"&&(Ke<T.top&&(A-=Ke-T.top-ue,E.y+he<T.top+we&&(A+=E.y-T.top+he-we)),Oe>T.bottom&&(A-=Oe-T.bottom-ue,E.y>T.bottom-we&&(A+=E.y-T.bottom+we)));var ar=N.x+R,ir=ar+Ce,qe=N.y+A,an=qe+oe,Wr=E.x,on=Wr+Y,yr=E.y,sn=yr+he,un=Math.max(ar,Wr),fn=Math.min(ir,on),zr=(un+fn)/2,cn=zr-ar,ln=Math.max(qe,yr),Vr=Math.min(an,sn),dn=(ln+Vr)/2,vn=dn-qe;i==null||i(e,He);var wr=K.right-N.x-(R+N.width),xe=K.bottom-N.y-(A+N.height);ke===1&&(R=Math.round(R),wr=Math.round(wr)),De===1&&(A=Math.round(A),xe=Math.round(xe));var hn={ready:!0,offsetX:R/ke,offsetY:A/De,offsetR:wr/ke,offsetB:xe/De,arrowX:cn/ke,arrowY:vn/De,scaleX:ke,scaleY:De,align:He};m(hn)}}),u=function(){g.current+=1;var P=g.current;Promise.resolve().then(function(){g.current===P&&w()})},S=function(){m(function(P){return D(D({},P),{},{ready:!1})})};return te(S,[t]),te(function(){n||S()},[n]),[M.ready,M.offsetX,M.offsetY,M.offsetR,M.offsetB,M.arrowX,M.arrowY,M.scaleX,M.scaleY,M.align,u]}function ca(n,e,r,t,a){te(function(){if(n&&e&&r){let g=function(){t(),a()};var o=e,i=r,s=Fn(o),d=Fn(i),M=qr(i),m=new Set([M].concat(Te(s),Te(d)));return m.forEach(function(C){C.addEventListener("scroll",g,{passive:!0})}),M.addEventListener("resize",g,{passive:!0}),t(),function(){m.forEach(function(C){C.removeEventListener("scroll",g),M.removeEventListener("resize",g)})}}},[n,e,r])}function la(n,e,r,t,a,o,i,s){var d=c.useRef(n);d.current=n;var M=c.useRef(!1);c.useEffect(function(){if(e&&t&&(!a||o)){var g=function(){M.current=!1},C=function(u){var S;d.current&&!i(((S=u.composedPath)===null||S===void 0||(S=S.call(u))===null||S===void 0?void 0:S[0])||u.target)&&!M.current&&s(!1)},v=qr(t);v.addEventListener("pointerdown",g,!0),v.addEventListener("mousedown",C,!0),v.addEventListener("contextmenu",C,!0);var f=Pn(r);return f&&(f.addEventListener("mousedown",C,!0),f.addEventListener("contextmenu",C,!0)),function(){v.removeEventListener("pointerdown",g,!0),v.removeEventListener("mousedown",C,!0),v.removeEventListener("contextmenu",C,!0),f&&(f.removeEventListener("mousedown",C,!0),f.removeEventListener("contextmenu",C,!0))}}},[e,r,t,a,o]);function m(){M.current=!0}return m}var da=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function va(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:it,e=c.forwardRef(function(r,t){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,i=r.children,s=r.action,d=s===void 0?"hover":s,M=r.showAction,m=r.hideAction,g=r.popupVisible,C=r.defaultPopupVisible,v=r.onPopupVisibleChange,f=r.afterPopupVisibleChange,w=r.mouseEnterDelay,u=r.mouseLeaveDelay,S=u===void 0?.1:u,b=r.focusDelay,P=r.blurDelay,F=r.mask,x=r.maskClosable,h=x===void 0?!0:x,L=r.getPopupContainer,_=r.forceRender,j=r.autoDestroy,U=r.destroyPopupOnHide,p=r.popup,ie=r.popupClassName,z=r.popupStyle,W=r.popupPlacement,de=r.builtinPlacements,X=de===void 0?{}:de,Ee=r.popupAlign,J=r.zIndex,Z=r.stretch,E=r.getPopupClassNameFromAlign,_e=r.fresh,ve=r.alignPoint,Q=r.onPopupClick,N=r.onPopupAlign,ee=r.arrow,Ue=r.popupMotion,cr=r.maskMotion,be=r.popupTransitionName,re=r.popupAnimation,Ae=r.maskTransitionName,Ie=r.maskAnimation,oe=r.className,Ce=r.getTriggerDOMNode,he=Nn(r,da),Y=j||U||!1,lr=c.useState(!1),Le=$(lr,2),se=Le[0],Me=Le[1];te(function(){Me(vt())},[]);var Je=c.useRef({}),G=c.useContext(Un),Gr=c.useMemo(function(){return{registerSubPopup:function(y,k){Je.current[y]=k,G==null||G.registerSubPopup(y,k)}}},[G]),T=ht(),xr=c.useState(null),Qe=$(xr,2),K=Qe[0],ke=Qe[1],De=c.useRef(null),Kr=er(function(l){De.current=l,Mn(l)&&K!==l&&ke(l),G==null||G.registerSubPopup(T,l)}),Or=c.useState(null),Fr=$(Or,2),ge=Fr[0],me=Fr[1],ue=c.useRef(null),pr=er(function(l){Mn(l)&&ge!==l&&(me(l),ue.current=l)}),Ze=c.Children.only(i),fe=(Ze==null?void 0:Ze.props)||{},$e={},Yr=er(function(l){var y,k,V=ge;return(V==null?void 0:V.contains(l))||((y=Pn(V))===null||y===void 0?void 0:y.host)===l||l===V||(K==null?void 0:K.contains(l))||((k=Pn(K))===null||k===void 0?void 0:k.host)===l||l===K||Object.values(Je.current).some(function(H){return(H==null?void 0:H.contains(l))||l===H})}),Er=Jn(o,Ue,re,be),Xr=Jn(o,cr,Ie,Ae),en=c.useState(C||!1),Pe=$(en,2),ne=Pe[0],dr=Pe[1],O=g??ne,He=er(function(l){g===void 0&&dr(l)});te(function(){dr(g||!1)},[g]);var R=c.useRef(O);R.current=O;var A=c.useRef([]);A.current=[];var ye=er(function(l){var y;He(l),((y=A.current[A.current.length-1])!==null&&y!==void 0?y:O)!==l&&(A.current.push(l),v==null||v(l))}),Ge=c.useRef(),vr=function(){clearTimeout(Ge.current)},ce=function(y){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;vr(),k===0?ye(y):Ge.current=setTimeout(function(){ye(y)},k*1e3)};c.useEffect(function(){return vr},[]);var Dr=c.useState(!1),hr=$(Dr,2),je=hr[0],Nr=hr[1];te(function(l){(!l||O)&&Nr(!0)},[O]);var rn=c.useState(null),gr=$(rn,2),rr=gr[0],mr=gr[1],Ke=c.useState(null),Oe=$(Ke,2),Ne=Oe[0],nr=Oe[1],pe=function(y){nr([y.clientX,y.clientY])},Rr=fa(O,K,ve&&Ne!==null?Ne:ge,W,X,Ee,N),I=$(Rr,11),Tr=I[0],nn=I[1],Ye=I[2],Ar=I[3],tn=I[4],Lr=I[5],kr=I[6],Xe=I[7],$r=I[8],tr=I[9],Re=I[10],Hr=oa(se,d,M,m),jr=$(Hr,2),Se=jr[0],we=jr[1],ar=Se.has("click"),ir=we.has("click")||we.has("contextMenu"),qe=er(function(){je||Re()}),an=function(){R.current&&ve&&ir&&ce(!1)};ca(O,ge,K,qe,an),te(function(){qe()},[Ne,W]),te(function(){O&&!(X!=null&&X[W])&&qe()},[JSON.stringify(Ee)]);var Wr=c.useMemo(function(){var l=ua(X,o,tr,ve);return fr(l,E==null?void 0:E(tr))},[tr,E,X,o,ve]);c.useImperativeHandle(t,function(){return{nativeElement:ue.current,popupElement:De.current,forceAlign:qe}});var on=c.useState(0),yr=$(on,2),sn=yr[0],un=yr[1],fn=c.useState(0),zr=$(fn,2),cn=zr[0],ln=zr[1],Vr=function(){if(Z&&ge){var y=ge.getBoundingClientRect();un(y.width),ln(y.height)}},dn=function(){Vr(),qe()},vn=function(y){Nr(!1),Re(),f==null||f(y)},wr=function(){return new Promise(function(y){Vr(),mr(function(){return y})})};te(function(){rr&&(Re(),rr(),mr(null))},[rr]);function xe(l,y,k,V){$e[l]=function(H){var Ur;V==null||V(H),ce(y,k);for(var wn=arguments.length,Rn=new Array(wn>1?wn-1:0),Ir=1;Ir<wn;Ir++)Rn[Ir-1]=arguments[Ir];(Ur=fe[l])===null||Ur===void 0||Ur.call.apply(Ur,[fe,H].concat(Rn))}}(ar||ir)&&($e.onClick=function(l){var y;R.current&&ir?ce(!1):!R.current&&ar&&(pe(l),ce(!0));for(var k=arguments.length,V=new Array(k>1?k-1:0),H=1;H<k;H++)V[H-1]=arguments[H];(y=fe.onClick)===null||y===void 0||y.call.apply(y,[fe,l].concat(V))});var hn=la(O,ir,ge,K,F,h,Yr,ce),le=Se.has("hover"),Br=we.has("hover"),or,We;le&&(xe("onMouseEnter",!0,w,function(l){pe(l)}),xe("onPointerEnter",!0,w,function(l){pe(l)}),or=function(y){(O||je)&&K!==null&&K!==void 0&&K.contains(y.target)&&ce(!0,w)},ve&&($e.onMouseMove=function(l){var y;(y=fe.onMouseMove)===null||y===void 0||y.call(fe,l)})),Br&&(xe("onMouseLeave",!1,S),xe("onPointerLeave",!1,S),We=function(){ce(!1,S)}),Se.has("focus")&&xe("onFocus",!0,b),we.has("focus")&&xe("onBlur",!1,P),Se.has("contextMenu")&&($e.onContextMenu=function(l){var y;R.current&&we.has("contextMenu")?ce(!1):(pe(l),ce(!0)),l.preventDefault();for(var k=arguments.length,V=new Array(k>1?k-1:0),H=1;H<k;H++)V[H-1]=arguments[H];(y=fe.onContextMenu)===null||y===void 0||y.call.apply(y,[fe,l].concat(V))}),oe&&($e.className=fr(fe.className,oe));var ze=D(D({},fe),$e),br={},_r=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];_r.forEach(function(l){he[l]&&(br[l]=function(){for(var y,k=arguments.length,V=new Array(k),H=0;H<k;H++)V[H]=arguments[H];(y=ze[l])===null||y===void 0||y.call.apply(y,[ze].concat(V)),he[l].apply(he,V)})});var gn=c.cloneElement(Ze,D(D({},ze),br)),mn={x:Lr,y:kr},yn=ee?D({},ee!==!0?ee:{}):null;return c.createElement(c.Fragment,null,c.createElement(nt,{disabled:!O,ref:pr,onResize:dn},c.createElement(ia,{getTriggerDOMNode:Ce},gn)),c.createElement(Un.Provider,{value:Gr},c.createElement(aa,{portal:n,ref:Kr,prefixCls:o,popup:p,className:fr(ie,Wr),style:z,target:ge,onMouseEnter:or,onMouseLeave:We,onPointerEnter:or,zIndex:J,open:O,keepDom:je,fresh:_e,onClick:Q,onPointerDownCapture:hn,mask:F,motion:Er,maskMotion:Xr,onVisibleChanged:vn,onPrepare:wr,forceRender:_,autoDestroy:Y,getPopupContainer:L,align:tr,arrow:yn,arrowPos:mn,ready:Tr,offsetX:nn,offsetY:Ye,offsetR:Ar,offsetB:tn,onAlign:qe,stretch:Z,targetWidth:sn/Xe,targetHeight:cn/$r})))});return e}const Pa=va(it);export{Ln as C,Zr as S,Pa as T};
//# sourceMappingURL=@rc-component-096ffa95.js.map
