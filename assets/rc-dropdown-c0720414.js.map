{"version":3,"file":"rc-dropdown-c0720414.js","sources":["../../node_modules/rc-dropdown/es/hooks/useAccessibility.js","../../node_modules/rc-dropdown/es/Overlay.js","../../node_modules/rc-dropdown/es/placements.js","../../node_modules/rc-dropdown/es/Dropdown.js"],"sourcesContent":["import KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from \"react\";\nvar ESC = KeyCode.ESC,\n  TAB = KeyCode.TAB;\nexport default function useAccessibility(_ref) {\n  var visible = _ref.visible,\n    triggerRef = _ref.triggerRef,\n    onVisibleChange = _ref.onVisibleChange,\n    autoFocus = _ref.autoFocus,\n    overlayRef = _ref.overlayRef;\n  var focusMenuRef = React.useRef(false);\n  var handleCloseMenuAndReturnFocus = function handleCloseMenuAndReturnFocus() {\n    if (visible) {\n      var _triggerRef$current, _triggerRef$current$f;\n      (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 || (_triggerRef$current$f = _triggerRef$current.focus) === null || _triggerRef$current$f === void 0 || _triggerRef$current$f.call(_triggerRef$current);\n      onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(false);\n    }\n  };\n  var focusMenu = function focusMenu() {\n    var _overlayRef$current;\n    if ((_overlayRef$current = overlayRef.current) !== null && _overlayRef$current !== void 0 && _overlayRef$current.focus) {\n      overlayRef.current.focus();\n      focusMenuRef.current = true;\n      return true;\n    }\n    return false;\n  };\n  var handleKeyDown = function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case ESC:\n        handleCloseMenuAndReturnFocus();\n        break;\n      case TAB:\n        {\n          var focusResult = false;\n          if (!focusMenuRef.current) {\n            focusResult = focusMenu();\n          }\n          if (focusResult) {\n            event.preventDefault();\n          } else {\n            handleCloseMenuAndReturnFocus();\n          }\n          break;\n        }\n    }\n  };\n  React.useEffect(function () {\n    if (visible) {\n      window.addEventListener(\"keydown\", handleKeyDown);\n      if (autoFocus) {\n        // FIXME: hack with raf\n        raf(focusMenu, 3);\n      }\n      return function () {\n        window.removeEventListener(\"keydown\", handleKeyDown);\n        focusMenuRef.current = false;\n      };\n    }\n    return function () {\n      focusMenuRef.current = false;\n    };\n  }, [visible]); // eslint-disable-line react-hooks/exhaustive-deps\n}","import { composeRef, getNodeRef, supportRef } from \"rc-util/es/ref\";\nimport React, { forwardRef, useMemo } from 'react';\nvar Overlay = /*#__PURE__*/forwardRef(function (props, ref) {\n  var overlay = props.overlay,\n    arrow = props.arrow,\n    prefixCls = props.prefixCls;\n  var overlayNode = useMemo(function () {\n    var overlayElement;\n    if (typeof overlay === 'function') {\n      overlayElement = overlay();\n    } else {\n      overlayElement = overlay;\n    }\n    return overlayElement;\n  }, [overlay]);\n  var composedRef = composeRef(ref, getNodeRef(overlayNode));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, arrow && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-arrow\")\n  }), /*#__PURE__*/React.cloneElement(overlayNode, {\n    ref: supportRef(overlayNode) ? composedRef : undefined\n  }));\n});\nexport default Overlay;","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nvar placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  top: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottom: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"arrow\", \"prefixCls\", \"transitionName\", \"animation\", \"align\", \"placement\", \"placements\", \"getPopupContainer\", \"showAction\", \"hideAction\", \"overlayClassName\", \"overlayStyle\", \"visible\", \"trigger\", \"autoFocus\", \"overlay\", \"children\", \"onVisibleChange\"];\nimport Trigger from '@rc-component/trigger';\nimport classNames from 'classnames';\nimport { composeRef, getNodeRef, supportRef } from \"rc-util/es/ref\";\nimport React from 'react';\nimport useAccessibility from \"./hooks/useAccessibility\";\nimport Overlay from \"./Overlay\";\nimport Placements from \"./placements\";\nfunction Dropdown(props, ref) {\n  var _children$props;\n  var _props$arrow = props.arrow,\n    arrow = _props$arrow === void 0 ? false : _props$arrow,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-dropdown' : _props$prefixCls,\n    transitionName = props.transitionName,\n    animation = props.animation,\n    align = props.align,\n    _props$placement = props.placement,\n    placement = _props$placement === void 0 ? 'bottomLeft' : _props$placement,\n    _props$placements = props.placements,\n    placements = _props$placements === void 0 ? Placements : _props$placements,\n    getPopupContainer = props.getPopupContainer,\n    showAction = props.showAction,\n    hideAction = props.hideAction,\n    overlayClassName = props.overlayClassName,\n    overlayStyle = props.overlayStyle,\n    visible = props.visible,\n    _props$trigger = props.trigger,\n    trigger = _props$trigger === void 0 ? ['hover'] : _props$trigger,\n    autoFocus = props.autoFocus,\n    overlay = props.overlay,\n    children = props.children,\n    onVisibleChange = props.onVisibleChange,\n    otherProps = _objectWithoutProperties(props, _excluded);\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    triggerVisible = _React$useState2[0],\n    setTriggerVisible = _React$useState2[1];\n  var mergedVisible = 'visible' in props ? visible : triggerVisible;\n  var triggerRef = React.useRef(null);\n  var overlayRef = React.useRef(null);\n  var childRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return triggerRef.current;\n  });\n  var handleVisibleChange = function handleVisibleChange(newVisible) {\n    setTriggerVisible(newVisible);\n    onVisibleChange === null || onVisibleChange === void 0 || onVisibleChange(newVisible);\n  };\n  useAccessibility({\n    visible: mergedVisible,\n    triggerRef: childRef,\n    onVisibleChange: handleVisibleChange,\n    autoFocus: autoFocus,\n    overlayRef: overlayRef\n  });\n  var onClick = function onClick(e) {\n    var onOverlayClick = props.onOverlayClick;\n    setTriggerVisible(false);\n    if (onOverlayClick) {\n      onOverlayClick(e);\n    }\n  };\n  var getMenuElement = function getMenuElement() {\n    return /*#__PURE__*/React.createElement(Overlay, {\n      ref: overlayRef,\n      overlay: overlay,\n      prefixCls: prefixCls,\n      arrow: arrow\n    });\n  };\n  var getMenuElementOrLambda = function getMenuElementOrLambda() {\n    if (typeof overlay === 'function') {\n      return getMenuElement;\n    }\n    return getMenuElement();\n  };\n  var getMinOverlayWidthMatchTrigger = function getMinOverlayWidthMatchTrigger() {\n    var minOverlayWidthMatchTrigger = props.minOverlayWidthMatchTrigger,\n      alignPoint = props.alignPoint;\n    if ('minOverlayWidthMatchTrigger' in props) {\n      return minOverlayWidthMatchTrigger;\n    }\n    return !alignPoint;\n  };\n  var getOpenClassName = function getOpenClassName() {\n    var openClassName = props.openClassName;\n    if (openClassName !== undefined) {\n      return openClassName;\n    }\n    return \"\".concat(prefixCls, \"-open\");\n  };\n  var childrenNode = /*#__PURE__*/React.cloneElement(children, {\n    className: classNames((_children$props = children.props) === null || _children$props === void 0 ? void 0 : _children$props.className, mergedVisible && getOpenClassName()),\n    ref: supportRef(children) ? composeRef(childRef, getNodeRef(children)) : undefined\n  });\n  var triggerHideAction = hideAction;\n  if (!triggerHideAction && trigger.indexOf('contextMenu') !== -1) {\n    triggerHideAction = ['click'];\n  }\n  return /*#__PURE__*/React.createElement(Trigger, _extends({\n    builtinPlacements: placements\n  }, otherProps, {\n    prefixCls: prefixCls,\n    ref: triggerRef,\n    popupClassName: classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-show-arrow\"), arrow)),\n    popupStyle: overlayStyle,\n    action: trigger,\n    showAction: showAction,\n    hideAction: triggerHideAction,\n    popupPlacement: placement,\n    popupAlign: align,\n    popupTransitionName: transitionName,\n    popupAnimation: animation,\n    popupVisible: mergedVisible,\n    stretch: getMinOverlayWidthMatchTrigger() ? 'minWidth' : '',\n    popup: getMenuElementOrLambda(),\n    onPopupVisibleChange: handleVisibleChange,\n    onPopupClick: onClick,\n    getPopupContainer: getPopupContainer\n  }), childrenNode);\n}\nexport default /*#__PURE__*/React.forwardRef(Dropdown);"],"names":["ESC","KeyCode","TAB","useAccessibility","_ref","visible","triggerRef","onVisibleChange","autoFocus","overlayRef","focusMenuRef","React.useRef","handleCloseMenuAndReturnFocus","_triggerRef$current","_triggerRef$current$f","focusMenu","_overlayRef$current","handleKeyDown","event","focusResult","React.useEffect","raf","Overlay","forwardRef","props","ref","overlay","arrow","prefixCls","overlayNode","useMemo","overlayElement","composedRef","composeRef","getNodeRef","React","supportRef","autoAdjustOverflow","targetOffset","placements","_excluded","Dropdown","_children$props","_props$arrow","_props$prefixCls","transitionName","animation","align","_props$placement","placement","_props$placements","Placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","_props$trigger","trigger","children","otherProps","_objectWithoutProperties","_React$useState","_React$useState2","_slicedToArray","triggerVisible","setTriggerVisible","mergedVisible","childRef","handleVisibleChange","newVisible","onClick","e","onOverlayClick","getMenuElement","getMenuElementOrLambda","getMinOverlayWidthMatchTrigger","minOverlayWidthMatchTrigger","alignPoint","getOpenClassName","openClassName","childrenNode","classNames","triggerHideAction","Trigger","_extends","_defineProperty","Dropdown$1"],"mappings":"sRAGA,IAAIA,GAAMC,EAAQ,IAChBC,GAAMD,EAAQ,IACD,SAASE,GAAiBC,EAAM,CAC7C,IAAIC,EAAUD,EAAK,QACjBE,EAAaF,EAAK,WAClBG,EAAkBH,EAAK,gBACvBI,EAAYJ,EAAK,UACjBK,EAAaL,EAAK,WAChBM,EAAeC,SAAa,EAAK,EACjCC,EAAgC,UAAyC,CAC3E,GAAIP,EAAS,CACX,IAAIQ,EAAqBC,GACxBD,EAAsBP,EAAW,WAAa,MAAQO,IAAwB,SAAWC,EAAwBD,EAAoB,SAAW,MAAQC,IAA0B,QAAUA,EAAsB,KAAKD,CAAmB,EAC3ON,GAAoB,MAAsCA,EAAgB,EAAK,CAChF,CACL,EACMQ,EAAY,UAAqB,CACnC,IAAIC,EACJ,OAAKA,EAAsBP,EAAW,WAAa,MAAQO,IAAwB,QAAUA,EAAoB,OAC/GP,EAAW,QAAQ,QACnBC,EAAa,QAAU,GAChB,IAEF,EACX,EACMO,EAAgB,SAAuBC,EAAO,CAChD,OAAQA,EAAM,QAAO,CACnB,KAAKlB,GACHY,IACA,MACF,KAAKV,GACH,CACE,IAAIiB,EAAc,GACbT,EAAa,UAChBS,EAAcJ,EAAS,GAErBI,EACFD,EAAM,eAAc,EAEpBN,IAEF,KACD,CACJ,CACL,EACEQ,EAAAA,UAAgB,UAAY,CAC1B,OAAIf,GACF,OAAO,iBAAiB,UAAWY,CAAa,EAC5CT,GAEFa,GAAIN,EAAW,CAAC,EAEX,UAAY,CACjB,OAAO,oBAAoB,UAAWE,CAAa,EACnDP,EAAa,QAAU,EAC/B,GAEW,UAAY,CACjBA,EAAa,QAAU,EAC7B,CACA,EAAK,CAACL,CAAO,CAAC,CACd,CC9DA,IAAIiB,GAAuBC,EAAU,WAAC,SAAUC,EAAOC,EAAK,CAC1D,IAAIC,EAAUF,EAAM,QAClBG,EAAQH,EAAM,MACdI,EAAYJ,EAAM,UAChBK,EAAcC,EAAAA,QAAQ,UAAY,CACpC,IAAIC,EACJ,OAAI,OAAOL,GAAY,WACrBK,EAAiBL,EAAO,EAExBK,EAAiBL,EAEZK,CACX,EAAK,CAACL,CAAO,CAAC,EACRM,EAAcC,EAAWR,EAAKS,EAAWL,CAAW,CAAC,EACzD,OAAoBM,EAAM,cAAcA,EAAM,SAAU,KAAMR,GAAsBQ,EAAM,cAAc,MAAO,CAC7G,UAAW,GAAG,OAAOP,EAAW,QAAQ,CAC5C,CAAG,EAAgBO,EAAM,aAAaN,EAAa,CAC/C,IAAKO,EAAWP,CAAW,EAAIG,EAAc,MAC9C,CAAA,CAAC,CACJ,CAAC,ECrBGK,EAAqB,CACvB,QAAS,EACT,QAAS,CACX,EACIC,EAAe,CAAC,EAAG,CAAC,EACpBC,GAAa,CACf,QAAS,CACP,OAAQ,CAAC,KAAM,IAAI,EACnB,SAAUF,EACV,OAAQ,CAAC,EAAG,EAAE,EACd,aAAcC,CACf,EACD,IAAK,CACH,OAAQ,CAAC,KAAM,IAAI,EACnB,SAAUD,EACV,OAAQ,CAAC,EAAG,EAAE,EACd,aAAcC,CACf,EACD,SAAU,CACR,OAAQ,CAAC,KAAM,IAAI,EACnB,SAAUD,EACV,OAAQ,CAAC,EAAG,EAAE,EACd,aAAcC,CACf,EACD,WAAY,CACV,OAAQ,CAAC,KAAM,IAAI,EACnB,SAAUD,EACV,OAAQ,CAAC,EAAG,CAAC,EACb,aAAcC,CACf,EACD,OAAQ,CACN,OAAQ,CAAC,KAAM,IAAI,EACnB,SAAUD,EACV,OAAQ,CAAC,EAAG,CAAC,EACb,aAAcC,CACf,EACD,YAAa,CACX,OAAQ,CAAC,KAAM,IAAI,EACnB,SAAUD,EACV,OAAQ,CAAC,EAAG,CAAC,EACb,aAAcC,CACf,CACH,ECtCIE,GAAY,CAAC,QAAS,YAAa,iBAAkB,YAAa,QAAS,YAAa,aAAc,oBAAqB,aAAc,aAAc,mBAAoB,eAAgB,UAAW,UAAW,YAAa,UAAW,WAAY,iBAAiB,EAQ1Q,SAASC,GAASjB,EAAOC,EAAK,CAC5B,IAAIiB,EACAC,EAAenB,EAAM,MACvBG,EAAQgB,IAAiB,OAAS,GAAQA,EAC1CC,EAAmBpB,EAAM,UACzBI,EAAYgB,IAAqB,OAAS,cAAgBA,EAC1DC,EAAiBrB,EAAM,eACvBsB,EAAYtB,EAAM,UAClBuB,EAAQvB,EAAM,MACdwB,EAAmBxB,EAAM,UACzByB,EAAYD,IAAqB,OAAS,aAAeA,EACzDE,EAAoB1B,EAAM,WAC1Be,EAAaW,IAAsB,OAASC,GAAaD,EACzDE,EAAoB5B,EAAM,kBAC1B6B,EAAa7B,EAAM,WACnB8B,EAAa9B,EAAM,WACnB+B,EAAmB/B,EAAM,iBACzBgC,EAAehC,EAAM,aACrBnB,EAAUmB,EAAM,QAChBiC,EAAiBjC,EAAM,QACvBkC,EAAUD,IAAmB,OAAS,CAAC,OAAO,EAAIA,EAClDjD,EAAYgB,EAAM,UAClBE,EAAUF,EAAM,QAChBmC,EAAWnC,EAAM,SACjBjB,EAAkBiB,EAAM,gBACxBoC,EAAaC,GAAyBrC,EAAOgB,EAAS,EACpDsB,EAAkB3B,EAAM,SAAU,EACpC4B,EAAmBC,GAAeF,EAAiB,CAAC,EACpDG,EAAiBF,EAAiB,CAAC,EACnCG,EAAoBH,EAAiB,CAAC,EACpCI,EAAgB,YAAa3C,EAAQnB,EAAU4D,EAC/C3D,EAAa6B,EAAM,OAAO,IAAI,EAC9B1B,EAAa0B,EAAM,OAAO,IAAI,EAC9BiC,EAAWjC,EAAM,OAAO,IAAI,EAChCA,EAAM,oBAAoBV,EAAK,UAAY,CACzC,OAAOnB,EAAW,OACtB,CAAG,EACD,IAAI+D,EAAsB,SAA6BC,EAAY,CACjEJ,EAAkBI,CAAU,EAC5B/D,GAAoB,MAAsCA,EAAgB+D,CAAU,CACxF,EACEnE,GAAiB,CACf,QAASgE,EACT,WAAYC,EACZ,gBAAiBC,EACjB,UAAW7D,EACX,WAAYC,CAChB,CAAG,EACD,IAAI8D,EAAU,SAAiBC,EAAG,CAChC,IAAIC,EAAiBjD,EAAM,eAC3B0C,EAAkB,EAAK,EACnBO,GACFA,EAAeD,CAAC,CAEtB,EACME,EAAiB,UAA0B,CAC7C,OAAoBvC,EAAM,cAAcb,GAAS,CAC/C,IAAKb,EACL,QAASiB,EACT,UAAWE,EACX,MAAOD,CACb,CAAK,CACL,EACMgD,EAAyB,UAAkC,CAC7D,OAAI,OAAOjD,GAAY,WACdgD,EAEFA,EAAc,CACzB,EACME,EAAiC,UAA0C,CAC7E,IAAIC,EAA8BrD,EAAM,4BACtCsD,EAAatD,EAAM,WACrB,MAAI,gCAAiCA,EAC5BqD,EAEF,CAACC,CACZ,EACMC,EAAmB,UAA4B,CACjD,IAAIC,EAAgBxD,EAAM,cAC1B,OAAIwD,IAAkB,OACbA,EAEF,GAAG,OAAOpD,EAAW,OAAO,CACvC,EACMqD,GAA4B9C,EAAM,aAAawB,EAAU,CAC3D,UAAWuB,GAAYxC,EAAkBiB,EAAS,SAAW,MAAQjB,IAAoB,OAAS,OAASA,EAAgB,UAAWyB,GAAiBY,GAAkB,EACzK,IAAK3C,EAAWuB,CAAQ,EAAI1B,EAAWmC,EAAUlC,EAAWyB,CAAQ,CAAC,EAAI,MAC7E,CAAG,EACGwB,EAAoB7B,EACxB,MAAI,CAAC6B,GAAqBzB,EAAQ,QAAQ,aAAa,IAAM,KAC3DyB,EAAoB,CAAC,OAAO,GAEVhD,EAAM,cAAciD,GAASC,GAAS,CACxD,kBAAmB9C,CACpB,EAAEqB,EAAY,CACb,UAAWhC,EACX,IAAKtB,EACL,eAAgB4E,EAAW3B,EAAkB+B,GAAgB,CAAE,EAAE,GAAG,OAAO1D,EAAW,aAAa,EAAGD,CAAK,CAAC,EAC5G,WAAY6B,EACZ,OAAQE,EACR,WAAYL,EACZ,WAAY8B,EACZ,eAAgBlC,EAChB,WAAYF,EACZ,oBAAqBF,EACrB,eAAgBC,EAChB,aAAcqB,EACd,QAASS,IAAmC,WAAa,GACzD,MAAOD,EAAwB,EAC/B,qBAAsBN,EACtB,aAAcE,EACd,kBAAmBnB,CACvB,CAAG,EAAG6B,EAAY,CAClB,CACA,MAAAM,GAA4BpD,EAAM,WAAWM,EAAQ","x_google_ignoreList":[0,1,2,3]}